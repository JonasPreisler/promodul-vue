(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bc18002a"],{"738c":function(t,s,e){"use strict";e.r(s);e("4de4"),e("d3b7");var i=function(){var t=this,s=t._self._c;return s("Layout",[t.showMain?t._e():s("div",{staticClass:"btn btn-primary mb-3",on:{click:t.home}},[s("i",{staticClass:"mdi mdi-arrow-left"}),t._v(t._s(t.$t("common.Back")))]),t.showMain?s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-4 col-sm-6"},[s("div",{staticClass:"card shadow-none border folderCard",on:{dblclick:function(s){return t.showFolders(t.list.UserAccount)}}},[s("div",{staticClass:"card-body p-3"},[s("div",{},[s("div",{staticClass:"avatar-md me-3 mb-3"},[s("div",{staticClass:"avatar-title bg-transparent rounded"},[s("i",{staticClass:"bx bxs-folder font-size-50 text-warning"})])]),s("div",{staticClass:"d-flex"},[s("div",{staticClass:"overflow-hidden me-auto"},[s("h5",{staticClass:"font-size-14 text-truncate mb-1"},[s("a",{staticClass:"text-body",attrs:{href:"javascript: void(0);"}},[t._v(t._s(t.$t("common.Employees")))])])])])])])])]),s("div",{staticClass:"col-xl-4 col-sm-6"},[s("div",{staticClass:"card shadow-none border folderCard",on:{dblclick:function(s){return t.showFoldersResources(t.list.Resource)}}},[s("div",{staticClass:"card-body p-3"},[s("div",{},[s("div",{staticClass:"avatar-md me-3 mb-3"},[s("div",{staticClass:"avatar-title bg-transparent rounded"},[s("i",{staticClass:"bx bxs-folder font-size-50 text-warning"})])]),s("div",{staticClass:"d-flex"},[s("div",{staticClass:"overflow-hidden me-auto"},[s("h5",{staticClass:"font-size-14 text-truncate mb-1"},[s("a",{staticClass:"text-body",attrs:{href:"javascript: void(0);"}},[t._v(t._s(t.$t("common.Resources")))])])])])])])])]),s("div",{staticClass:"col-xl-4 col-sm-6"},[s("div",{staticClass:"card shadow-none border folderCard",on:{dblclick:function(s){return t.showFolders(t.list.Project)}}},[s("div",{staticClass:"card-body p-3"},[s("div",{},[s("div",{staticClass:"avatar-md mb-3"},[s("div",{staticClass:"avatar-title bg-transparent rounded"},[s("i",{staticClass:"bx bxs-folder font-size-50 text-warning"})])]),s("div",{staticClass:"d-flex"},[s("div",{staticClass:"overflow-hidden me-auto"},[s("h5",{staticClass:"font-size-14 text-truncate mb-1"},[s("a",{staticClass:"text-body",attrs:{href:"javascript: void(0);"}},[t._v(t._s(t.$t("common.Projects")))])])])])])])])])]):t._e(),t.showResourceChild?s("div",{staticClass:"row"},t._l(t.resourceFolderList,(function(e,i){return s("div",{key:i,staticClass:"col-xl-4 col-sm-6"},[s("div",{staticClass:"card shadow-none border folderCard",on:{dblclick:function(s){return t.showFolders(e,i)}}},[s("div",{staticClass:"card-body p-3"},[s("div",{},[s("div",{staticClass:"avatar-xs me-3 mb-3"},[s("div",{staticClass:"avatar-title bg-transparent rounded"},[s("i",{staticClass:"bx bxs-folder font-size-24 text-warning"})])]),s("div",{staticClass:"d-flex"},[s("div",{staticClass:"overflow-hidden me-auto"},[s("h5",{staticClass:"font-size-14 text-truncate mb-1"},[t._v(" "+t._s(i)+" ")])])])])])])])})),0):t._e(),t.showChild?s("div",{staticClass:"row"},t._l(t.folderList,(function(e,i){return s("div",{key:i,staticClass:"col-xl-4 col-sm-6"},[s("div",{staticClass:"card shadow-none border folderCard",on:{dblclick:function(s){return t.showFiles(e,i)}}},[s("div",{staticClass:"card-body p-3"},[s("div",{},[s("div",{staticClass:"avatar-xs me-3 mb-3"},[s("div",{staticClass:"avatar-title bg-transparent rounded"},[s("i",{staticClass:"bx bxs-folder font-size-24 text-warning"})])]),s("div",{staticClass:"d-flex"},[s("div",{staticClass:"overflow-hidden me-auto"},[s("h5",{staticClass:"font-size-14 text-truncate mb-1"},[t._v(" "+t._s(i)+" ")])])])])])])])})),0):t._e(),t.fileListBinder?s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"mt-4"},[s("div",{staticClass:"d-flex flex-wrap"},[s("h5",{staticClass:"font-size-16 me-3"},[t._v(t._s(t.filesTitle)+" "+t._s(t.$t("common.Files")))])]),s("hr",{staticClass:"mt-2"}),s("div",{staticClass:"table-responsive"},[s("div",{staticClass:"dataTables_filter text-md-end",attrs:{id:"tickets-table_filter"}},[s("label",{staticClass:"d-inline-flex align-items-center"},[s("b-form-input",{staticClass:"form-control form-control-sm",attrs:{type:"search",placeholder:this.$t("common.Search")},model:{value:t.filter,callback:function(s){t.filter=s},expression:"filter"}})],1)]),s("div",{staticClass:"table-responsive mb-0"},[s("b-table",{staticClass:"datatables",attrs:{striped:"",hover:"",outlined:"",items:t.fileList,fields:t.fields,responsive:"sm","sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter},on:{"update:sortBy":function(s){t.sortBy=s},"update:sort-by":function(s){t.sortBy=s},"update:sortDesc":function(s){t.sortDesc=s},"update:sort-desc":function(s){t.sortDesc=s}},scopedSlots:t._u([{key:"cell(file_name)",fn:function(e){return[s("span",{staticClass:"text-dark fw-medium pointer",on:{click:function(s){return t.download(e.item.uuid,e.item.file_name)}}},[s("i",{staticClass:"mdi font-size-18 align-middle text-primary me-2",class:t.getfileType(e.item.file_name)}),t._v(" "+t._s(e.item.file_name))])]}}],null,!1,1389077329)})],1)])])])]):t._e()])},a=[],o=(e("a4d3"),e("e01a"),e("3ca3"),e("ddb0"),e("2b3d"),e("9861"),e("88a7"),e("271a"),e("5494"),e("25f0"),e("444f")),l=e("c2a4"),r=e("8337"),n=e("bc3a"),d=e.n(n),c=e("3d20"),f=e.n(c),m={page:{title:"File manager",meta:[{name:"description",content:l.description}]},components:{Layout:o["a"]},data:function(){return{title:"File manager",items:[{text:"Home",href:"/"},{text:"File Manager",active:!0}],fields:[{label:this.$t("common.File name"),key:"file_name",sortable:!0}],filetype:{xls:"mdi-microsoft-excel",xlsx:"mdi-microsoft-excel",doc:"mdi-microsoft-word",pdf:"mdi-file-pdf-outline",jpg:"mdi-file-image",png:"mdi-file-image",gif:"mdi-file-image",jpeg:"mdi-file-image",uknown:"mdi-file-cancel-outline",zip:"mdi-folder-zip",rar:"mdi-folder-zip"},showMain:!0,showChild:!1,showResourceChild:!1,showFilesC:!1,fileListBinder:!1,filesTitle:null,filter:null,folderList:[],resourceFolderList:[],list:[],fileList:[],machineModels:[],toolModels:[],externalSource:[],showHideProjects:!1,users:[],projects:[],resources:[],sortBy:"name",sortDesc:!1}},methods:{download:function(t,s){var e=this;d()({url:"https://apipromodul.no/en/attachments/file?uuid="+t,method:"GET",responseType:"blob"}).then((function(t){var e=new Blob([t.data],{type:t.data.type}),i=document.createElement("a");i.href=URL.createObjectURL(e),i.download=s,i.click(),URL.revokeObjectURL(i.href)}),(function(t){f.a.fire(e.$t("common.Warning"),e.$t("common.Data not exists"),"warning")}))},home:function(){this.fileListBinder?(this.fileListBinder=!1,this.showChild=!0):this.showChild?(this.showChild=!1,this.showMain=!0):this.showResourceChild&&(this.showResourceChild=!1,this.showMain=!0)},showFiles:function(t,s){this.fileListBinder=!0,this.showResourceChild=!1,this.showChild=!1,this.filesTitle=s,this.fileList=t.filter((function(t){return null!=t.file_name}))},getfileType:function(t){var s=null!=t?t.substr(t.lastIndexOf(".")+1):"noFile.no";return this.filetype.hasOwnProperty(s)?this.filetype[s]:this.filetype["uknown"]},showFolders:function(t){this.showMain=!1,this.showChild=!0,this.showResourceChild=!1,this.folderList=t},showFoldersResources:function(t){this.showMain=!1,this.showChild=!1,this.showResourceChild=!0,this.resourceFolderList=t}},mounted:function(){var t=this;r["default"].setHeader(),r["default"].get("/attachments/get_files").then((function(s){t.fileList=s.data.files.Resource.MachineModel,t.list=s.data.files}),(function(s){t.categories=s.response&&s.response.companies||s.message||s.toString()}))}},h=m,u=(e("9e25"),e("2877")),v=Object(u["a"])(h,i,a,!1,null,"4ed767a5",null);s["default"]=v.exports},"9e25":function(t,s,e){"use strict";e("a449")},a449:function(t,s,e){}}]);
//# sourceMappingURL=chunk-bc18002a.de3c81c0.js.map