{"version":3,"sources":["webpack:///./src/router/views/manage-employees/index.vue","webpack:///src/router/views/manage-employees/index.vue","webpack:///./src/router/views/manage-employees/index.vue?e8db","webpack:///./src/router/views/manage-employees/index.vue?c6c9"],"names":["render","_vm","this","_c","_self","staticClass","attrs","_v","_s","$t","staticStyle","managersList","onMove","on","onEnd","_l","manager","key","id","first_name","last_name","email","employeesList","employee","staticRenderFns","page","meta","name","content","appConfig","description","components","draggable","Layout","data","form","user_account_id","id_name","taskList","completedTasks","changed_task_id","change_task_status","title","items","text","href","active","methods","confirm","_this","Swal","fire","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","value","ApiService","delete","response","error","open_task_list","message","toString","format_date","moment","String","format","_ref","relatedContext","draggedContext","self","element","user_role","component","$attrs","_this2","post","mounted","_this3","setHeader","get","users","filter","user","categories","companies"],"mappings":"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","file":"js/chunk-2d0c80e0.50cb718d.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Layout',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-10 offset-1\"},[_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"primary text-center \"}},[_c('span',{staticClass:\"alert-link\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"common.Choose simply, whom to be a project manager, drag and drop\"))+\" \")])])],1)]),_c('div',{staticClass:\"drag-container\"},[_c('div',{staticClass:\"row drag-list\"},[_c('div',{staticClass:\"col-1\"}),_c('div',{staticClass:\"col drag-column\"},[_c('div',{},[_c('div',{},[_c('span',{staticClass:\"drag-column-header\"},[_c('h4',{staticClass:\"card-title mb-4 pb-1 text-center\"},[_vm._v(_vm._s(_vm.$t(\"common.Project Manager\")))]),_c('hr')]),_c('draggable',{staticClass:\"list-group\",staticStyle:{\"height\":\"60vh\"},attrs:{\"group\":\"tasks\",\"id\":\"project_manager\",\"list\":_vm.managersList,\"move\":_vm.onMove},on:{\"end\":_vm.onEnd}},_vm._l((_vm.managersList),function(manager){return _c('div',{key:manager.id,staticClass:\"card task-box m-0\"},[_c('div',{staticClass:\"card-body p-1\"},[_c('div',[_c('h5',{staticClass:\"font-size-15\"},[_c('a',{staticClass:\"text-dark\",attrs:{\"href\":\"javascript: void(0);\"}},[_c('div',{staticClass:\"pt-2\",staticStyle:{\"display\":\"inline-block\"}},[_c('i',{staticClass:\"mdi mdi-account-circle-outline text-info\"}),_c('span',{staticClass:\"text-muted\"},[_vm._v(\" \"+_vm._s(manager.first_name)+\" \"+_vm._s(manager.last_name)+\" \")]),_c('i',{staticClass:\"mdi mdi-email-outline ms-3 text-info\"}),_c('span',{staticClass:\"text-muted\"},[_vm._v(\" \"+_vm._s(manager.email))])])])])])])])}),0)],1)])]),_c('div',{staticClass:\"col offset-1 drag-column\"},[_c('div',{},[_c('div',{},[_c('span',{staticClass:\"drag-column-header\"},[_c('h4',{staticClass:\"card-title mb-4 pb-1 text-center\"},[_vm._v(_vm._s(_vm.$t(\"common.Employees\")))])]),_c('hr'),_c('draggable',{staticClass:\"list-group\",staticStyle:{\"height\":\"60vh\"},attrs:{\"group\":\"tasks\",\"id\":\"employee\",\"list\":_vm.employeesList,\"move\":_vm.onMove},on:{\"end\":_vm.onEnd}},_vm._l((_vm.employeesList),function(employee){return _c('div',{key:employee.id,staticClass:\"card task-box m-0\"},[_c('div',{staticClass:\"card-body p-1\"},[_c('div',[_c('h5',{staticClass:\"font-size-15\"},[_c('a',{staticClass:\"text-dark\",attrs:{\"href\":\"javascript: void(0);\"}},[_c('div',{staticClass:\"pt-2\",staticStyle:{\"display\":\"inline-block\"}},[_c('i',{staticClass:\"mdi mdi-account-circle-outline text-info\"}),_c('span',{staticClass:\"text-muted\"},[_vm._v(\" \"+_vm._s(employee.first_name)+\" \"+_vm._s(employee.last_name)+\" \")]),_c('i',{staticClass:\"mdi mdi-email-outline ms-3 text-info\"}),_c('span',{staticClass:\"text-muted\"},[_vm._v(\" \"+_vm._s(employee.email))])])])])])])])}),0)],1)])]),_c('div',{staticClass:\"col-1\"})])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport draggable from \"vuedraggable\";\nimport moment from \"moment\";\nimport Layout from \"../../layouts/main\";\nimport appConfig from \"@/app.config\";\nimport Swal from \"sweetalert2\";\nimport ApiService from \"@/state/modules/api.service\";\n\n/**\n * Kanban-board component\n */\nexport default {\n  page: {\n    meta: [\n      {\n        name: \"description\",\n        content: appConfig.description,\n      },\n    ],\n  },\n  components: {\n    draggable,\n    Layout\n  },\n  data() {\n    return {\n      form:{\n        user_account_id:0,\n        id_name:null\n      }          \n      ,\n      employeesList: [],\n      taskList: [],\n      managersList: [],\n      completedTasks: [],\n      changed_task_id:0,\n      change_task_status:null,\n      title: \"Kanban Board\",\n      items: [\n        {\n          text: \"Tasks\",\n          href: \"/\",\n        },\n        {\n          text: \"Kanban Board\",\n          active: true,\n        },\n      ],\n    };\n  },\n  methods: {\n      confirm(id) {\n         Swal.fire({\n        title: this.$t(\"common.Yes, Are you sure\"),\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#34c38f\",\n        cancelButtonColor: \"#f46a6a\",\n        confirmButtonText: this.$t(\"common.Yes, delete it!\"),\n        cancelButtonText: this.$t(\"common.Cancel\"),\n      }).then((result) => {\n        if (result.value) {\n          // eslint-disable-next-line no-console\n                 ApiService.delete(\"/tasks/\"+id).then(\n        // eslint-disable-next-line no-unused-vars\n        response => {\n            Swal.fire(this.$t(\"common.Deleted\"), this.$t(\"common.Task has been deleted\"), \"success\");\n       \n        },\n        error => {\n          this.open_task_list =\n            (error.response && error.response.data) ||\n            error.message ||\n            error.toString();\n        }\n      );\n        //  this.deleteEvent();\n        \n        }\n      });\n    },\n        format_date(value) {\n      if (value) {\n        return moment(String(value)).format(\"DD MMM ,YYYY\");\n      }\n    },\n   onMove({ relatedContext, draggedContext }) {\n      const self = this;\n     \n       if (draggedContext.element.user_role == \"employee\") {\n         if (relatedContext.component.$attrs.id == \"project_manager\") {\n           self.changed_task_id = draggedContext.element.id;\n           self.change_task_status = \"project_manager\";\n           draggedContext.element.user_role = \"project_manager\";\n           return true;\n         } else return false;\n       } else if (draggedContext.element.user_role == \"project_manager\") {\n         if (relatedContext.component.$attrs.id == \"employee\") {\n           self.changed_task_id = draggedContext.element.id;\n           self.change_task_status = \"employee\";\n           draggedContext.element.user_role = \"employee\";\n           return true;\n         } else return false;\n       }\n       return true;\n    },\n    onEnd() {\n      // const form = new FormData();\n      // form.append(\"user_account_id\",this.changed_task_id)\n      // form.append(\"id_name \", this.change_task_status)\n      this.form.user_account_id = this.changed_task_id\n      this.form.id_name = this.change_task_status\n        ApiService.post(\"user_roles\", this.form).then(\n        () => {\n        \n        },\n        error => {\n          this.open_task_list =\n            (error.response && error.response.data) ||\n            error.message ||\n            error.toString();\n        }\n      );\n    }\n  },\n  mounted() {\n    ApiService.setHeader();\n\n       ApiService.get(\"/users/list\").then(\n      response => {\n        \n        this.employeesList = response.data.users.filter(function(user) {\n            return user.user_role == \"employee\";\n          });\n          this.managersList = response.data.users.filter(function(user) {\n            return user.user_role == \"project_manager\";\n          });\n           \n      },\n      error => {\n        this.categories =\n          (error.response && error.response.companies) ||\n          error.message ||\n          error.toString();\n      }\n    );\n\n    \n  }\n};\n</script>\n\n<template>\n  <Layout>\n    <div class=\"row\">\n      <div class=\"col-10 offset-1\">\n        <b-alert show variant=\"primary text-center \"><span  class=\"alert-link\">\n          {{$t(\"common.Choose simply, whom to be a project manager, drag and drop\")}}\n          </span></b-alert>\n       \n      </div>\n    </div>\n    <div class=\"drag-container\">\n      \n      <div class=\"row drag-list\">\n        <div class=\"col-1\"></div>\n        <div class=\"col  drag-column\">\n          <div class=\"\">\n            <div class=\"\">\n              <!-- dropdown -->\n              <span class=\"drag-column-header\">\n                <h4 class=\"card-title mb-4 pb-1 text-center\">{{$t(\"common.Project Manager\")}}</h4>\n                <hr>\n              </span>\n              <draggable class=\"list-group\" style=\"height:60vh;\"\n               group=\"tasks\" \n                id=\"project_manager\"\n                :list=\"managersList\"\n                @end=\"onEnd\"\n                :move=\"onMove\"\n               >\n                <div\n                  v-for=\"manager in managersList\"\n                  :key=\"manager.id\"\n                  class=\"card task-box m-0\"\n                >\n                   <div class=\"card-body p-1\">\n                    \n                    <div>\n                      <h5 class=\"font-size-15\">\n                        <a href=\"javascript: void(0);\" class=\"text-dark\">     \n                          <div style=\"display:inline-block\" class=\" pt-2\">\n                          <i class=\"mdi mdi-account-circle-outline text-info\"></i>\n                            <span class=\"text-muted\"> {{ manager.first_name }} {{manager.last_name}} </span>\n                          <i class=\"mdi mdi-email-outline ms-3 text-info\"></i>\n                          <span class=\"text-muted\"> {{ manager.email }}</span>\n                          </div>\n                          </a>\n                      </h5>\n                    </div>\n                  \n                  </div>\n                </div>\n              </draggable>\n            </div>\n          </div>\n        </div>\n        <!-- end col-->\n        <div class=\"col offset-1  drag-column\">\n          <div class=\"\">\n            <div class=\"\">\n              <!-- dropdown -->\n              <span class=\"drag-column-header\">\n                <h4 class=\"card-title mb-4 pb-1 text-center\">{{$t(\"common.Employees\")}}</h4>\n              </span>\n              <hr>\n              <draggable class=\"list-group\" group=\"tasks\" style=\"height:60vh;\"\n               id=\"employee\"\n               :list=\"employeesList\"\n              @end=\"onEnd\"\n              :move=\"onMove\"\n               >\n                <div\n                  v-for=\"employee in employeesList\"\n                  :key=\"employee.id\"\n                  class=\"card task-box m-0\"\n                >\n                  <div class=\"card-body p-1\">\n                    \n                    <div>\n                      <h5 class=\"font-size-15\">\n                        <a href=\"javascript: void(0);\" class=\"text-dark\">\n                           <div style=\"display:inline-block\" class=\" pt-2\">\n                          <i class=\"mdi mdi-account-circle-outline text-info\"></i>\n                            <span class=\"text-muted\"> {{ employee.first_name }} {{employee.last_name}} </span>\n                          <i class=\"mdi mdi-email-outline ms-3 text-info\"></i>\n                          <span class=\"text-muted\"> {{ employee.email }}</span>\n                          </div>\n                          </a>\n                      </h5>\n                    </div>\n          \n                     \n                  \n                    \n                  </div>\n                </div>\n              </draggable>\n            </div>\n          </div>\n        </div>  \n        <div class=\"col-1\"></div>    \n        <!-- end col-->\n      </div>\n    </div>\n    <!-- end row -->\n  </Layout>\n</template>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=bb47769e\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}